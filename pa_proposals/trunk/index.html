<HTML>

<HEAD>
<TITLE>Proposed Changes to PortAudio API</TITLE>
<META content="Phil Burk, Ross Bencina" name=Author>
<META content="Changes being discussed by the community of PortAudio deveopers." name=Description>
<META 
content="PortAudio, audio, tutorial, library, portable, open-source, DirectSound, sound, music, JSyn, AudioMulch, synthesis" name=KeyWords>
</HEAD>

<BODY LINK="#0000ff" VLINK="#800080">

<CENTER>
<H1>Proposed Enhancements to PortAudio</H1>
</CENTER>

<P><A href="http://www.portaudio.com/">PortAudio Home Page</A></P>
<P>Updated: February 2, 2003 </P>

<H2>Introduction</H2>

<P>
This document links to a series of proposals currently being considered by the PortAudio developer community.
Most of the proposals propose changes to the definition of the PortAudio API or to the
way that PortAudio behaves in specific circumstances, some proposals (such as the style guide) 
are concerned with the way in which PortAudio is implemented.
</P>

<P>
The proposals are intended to capture the current state of discussions - when finalised they will
be treated as specifications that will guide implementation. The authors are the various members of the PortAudio community and are too numerous to mention here. Please refer to the mailing list archives to see who said what. 
</P>



<H2>Open Proposals</H2>

<P>The following table lists the proposals currently under consideration. The majority of the listed proposals have undergone considerable peer review and are considerd complete. Most have been fully or partially
implemented for at least one platform in the v19-devel CVS branch. Until version 19 is released
there is a small possibility that the content of these proposals may change in response to
implementation experience. If you think 
something is missing, could be improved, or would just like to comment please do so on the 
<A HREF="http://techweb.rfa.org/mailman/listinfo/portaudio">PortAudio mailing list</A>.</P>

<TABLE BORDER CELLPADDING=2>
	<TR BGCOLOR="#CCFFFF">
		<TD><center><b>Proposal</b><center></TD>
		<TD><center><b>Proposal Status</b><center></TD>
		<TD><center><b>v19-devel Common Infrastructure Status</b><center></TD>
		<TD><center><b>v19-devel MME Status</b><center></TD>
		<TD><center><b>v19-devel DirectSound Status</b><center></TD>
		<TD><center><b>v19-devel ASIO Status</b><center></TD>
		<TD><center><b>v19-devel ALSA Status</b><center></TD>
	</TR>
	<TR>
		<TD><A HREF="001-UnderflowOverflowHandling.html">001 - Pass Underflow/Overflow Information to the Stream Callback</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="002-ImproveDeviceFormatsQueryInterface.html">002 - Improve Device Formats Query Interface</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="003-ImproveLatencySpecificationInterface.html">003 - Improve Latency Specification Interface</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
	</TR>
	<TR>
		<TD><A HREF="004-CallbackVariableFramesPerBuffer.html">004 - Allow Callbacks to Accept Variable Number of Frames per Buffer</A>	</TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="005-BlockingReadWriteInterface.html">005 - Blocking Read/Write Interface</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD BGCOLOR="#FFCCFF">stubbed</TD>
		<TD>implemented (untested)</TD>
	</TR>
	<TR>
		<TD><A HREF="006-NonInterleavedBuffers.html">006 - Non-Interleaved Buffers</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented (untested)</TD>
	</TR>
	<TR>
		<TD><A HREF="007-MultipleHostAPIsInASingleBuild.html">007 - Support for Multiple Host APIs in a Single PortAudio Build</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="008-HostAPISpecificOpenStreamParameters.html">008 - Host API Specific Pa_OpenStream() Parameters</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>unused</TD>
	</TR>
	<TR>
		<TD><A HREF="009-HandlingHostAPISpecificErrorCodes.html">009 - Handling of Host API Specific Error Codes</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="010-ClarifyStreamStateMachine.html">010 - Clarify Stream State Machine and State Querying Functions</A></TD>
		<TD>complete</TD>
		<TD BGCOLOR="#FFCCCC">partial (pa_process does not respond to callback non-zero return code)</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="011-RenameExistingSymbolsForConsistency.html">011 - Rename Existing Symbols such as Pa_GetCPULoad(), PaDeviceID etc. for Consistency</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="012-AdditionalTerminateBehavior.html">012 - Additional Pa_Terminate() Behavior</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="013-RefactorImplementationInfrastructure.html">013 - Refactor Implementation Infrastructure</A></TD>
		<TD>complete but could always expand</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="014-StyleGuide.html">014 - Implementation Style Guidelines</A></TD>
		<TD>stable but open for discussion - used in v19-devel</TD>
	</TR>
	<TR>
		<TD><A HREF="015-ImproveCallbackTimestampInfo.html">015 - Improve Callback Timestamp Info</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="016-UseStructsForOpenStreamParameters.html">016 - Use Structs for Pa_OpenStream() Parameters</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="017-MethodForRetrievingActualStreamSampleRate.html">017 - Method for Retrieving Actual Stream Sample Rate</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCCC">partial</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="018-VersionInformationInterface.html">018 - Version Information Interface</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>N/A</TD>
		<TD>N/A</TD>
		<TD>N/A</TD>
	</TR>
	<TR>
		<TD><A HREF="019-NotifyClientWhenAllBuffersHavePlayed.html">019 - Notify Client When All Buffers Have Played</A></TD>
		<TD>complete</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD>implemented</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
	</TR>
	<TR>
		<TD><A HREF="020-AllowCallbackToPrimeStream.html">020 - Allow Callback to Prime Stream</A></TD>
		<TD>complete</TD>
		<TD BGCOLOR="#FFCCCC">partial (pa_process should handle some of this)</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
		<TD BGCOLOR="#FFCCFF">not implemented</TD>
	</TR>
</TABLE>

<P>
Potential enhancements which have not yet been developed into
proposals are listed 
<A href="possibilities.html">here</A>.
</P>


<H2>Status Summary</H2>


<P>
Due to the interdependency of many of the proposed enhancements, we plan to introduce all currently proposed API enhancements simultaneously as part of release 19. The CVS repository currently contains a branch named portaudio-v19-devel where enhancements are being implemented. 
</P>

<P>
All listed proposals have been reviewed and discussed by the PortAudio developer comunity. All proposals pertaining to API changes are defined in sufficient detail to be implemented. Both the 

<A HREF="014-StyleGuide.html">014 - Implementation Style Guidelines</A> and 
<A HREF="013-RefactorImplementationInfrastructure.html">013 - Refactor Implementation Infrastructure</A>

proposals only effect implementors and do not effect the API definition itself. Refinement of these proposals is desirable but not critical to the development of release 19.
</P>


<H2>Client Impact</H2>

<P>
Some of the proposed changes will break existing client code. Usually these breakages involve renaming of constant identifiers or function calls. In a small number of cases additional parameters will be added to existing API functions. Concerned readers are advised to consult the Impact Analysis section of each proposal for further details.
</P>

</BODY>
</HTML>
    